(this["webpackJsonprancid-tomatillos"]=this["webpackJsonprancid-tomatillos"]||[]).push([[0],{18:function(e,t,r){},27:function(e,t,r){},28:function(e,t,r){},29:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(1),s=r(20),c=r.n(s),i=r(7),o=(r(27),r(10)),l=r(11),h=r(13),d=r(12),j=(r(28),r(2));r(18),r(29);var m=function(e){var t=e.searchTerm,r=e.handleChange;return Object(a.jsx)("label",{children:Object(a.jsx)("form",{"aria-label":"search",children:Object(a.jsx)("input",{id:"search",type:"text",placeholder:"Search by title",value:t,onChange:function(e){return r(e)}})})})},u=function(e){var t=e.searchTerm,r=e.handleChange,n=e.showSearch;return Object(a.jsxs)("header",{className:"main-header",children:[n&&Object(a.jsx)(m,{searchTerm:t,handleChange:r}),Object(a.jsx)(i.b,{to:"/",className:"header-link",children:Object(a.jsx)("h1",{className:"header-title",children:"Randy's Totoos"})})]})},b=(r(35),function(){return Object(a.jsxs)("section",{className:"loading-container",children:[Object(a.jsx)("h2",{children:"Please be patient, we're changing the reel!"}),Object(a.jsx)("img",{className:"borked-gif",src:"https://media.giphy.com/media/ppyvw6iUQjdja/giphy.gif",alt:"bork bork"})]})}),v=(r(36),function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u,{}),Object(a.jsxs)("section",{className:"error-container",children:[Object(a.jsx)("h2",{className:"borked-title",children:"This page is borked!"}),Object(a.jsx)("img",{className:"borked-gif",src:"https://media.giphy.com/media/10u6gt11vnm812/giphy.gif",alt:"bork bork"}),Object(a.jsxs)(i.b,{to:"/",className:"borked-link",children:[Object(a.jsx)("h3",{children:"If you typed in a URL, please make sure you typed it correctly."}),Object(a.jsx)("h3",{children:"Or click here to return to the home page"})]})]})]})}),O=(r(37),function(e){Object(h.a)(r,e);var t=Object(d.a)(r);function r(e){var a,n=e.throwError;return Object(o.a)(this,r),(a=t.call(this,n)).state={foundMovie:null,loading:!0,modalError:!1,modalSearch:!1},a}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.id,fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(e)).then((function(e){if(e.status>=400&&500>=e.status)throw new Error("user error");if(e.status>=500)throw new Error("server error");return e.json()}))).then((function(e){return t.setState({foundMovie:e.movie,loading:!1})})).catch((function(e){t.props.throwError()}))}},{key:"render",value:function(){var e=this.state.foundMovie;return this.state.modalError?Object(a.jsx)(v,{}):this.state.loading?Object(a.jsx)(b,{}):null===e?Object(a.jsx)("main",{className:"loading",children:"HEY"}):Object(a.jsxs)("section",{className:"modal",children:[Object(a.jsx)("img",{src:e.backdrop_path,alt:"movie backdrop"}),Object(a.jsx)("h2",{className:"m-title",children:e.title}),Object(a.jsx)("p",{className:"m-tagline",children:e.tagline}),Object(a.jsxs)("div",{className:"m-data",children:[Object(a.jsx)("p",{className:"m-overview",children:e.overview}),Object(a.jsxs)("p",{className:"m-date",children:["Release Date: ",e.release_date]}),Object(a.jsxs)("p",{className:"m-rating",children:["Average Rating: ",e.average_rating.toFixed(1),"/10.0"]}),Object(a.jsxs)("p",{className:"m-runtime",children:["Runtime: ",e.runtime," minutes"]}),Object(a.jsx)("div",{className:"m-genre",children:Object(a.jsx)("ul",{children:e.genres.map((function(e){return Object(a.jsx)("li",{children:e},e)}))})}),e.budget?Object(a.jsxs)("p",{className:"m-budget",children:["Budget: $",e.budget.toLocaleString()]}):Object(a.jsx)("p",{className:"m-budget",children:"Budget not available"}),e.revenue?Object(a.jsxs)("p",{className:"m-revenue",children:["Revenue: $",e.revenue.toLocaleString()]}):Object(a.jsx)("p",{className:"m-revenue",children:"Revenue not available"}),Object(a.jsx)(i.b,{to:"/",children:Object(a.jsx)("button",{children:"BACK TO HOME"})})]})]})}}]),r}(n.Component)),g=(r(38),r(39),function(e){var t=e.movie;return Object(a.jsx)(i.b,{to:"/".concat(t.id),"aria-label":t.id,children:Object(a.jsxs)("article",{className:"card",id:t.id,children:[Object(a.jsx)("img",{className:"thumbnail",src:t.poster_path,alt:"thumbnail"}),Object(a.jsx)("p",{className:"movie-title",children:t.title}),Object(a.jsx)("p",{className:"movie-rating",children:"Rating: ".concat(t.average_rating.toFixed(1),"/10.0")}),Object(a.jsxs)("p",{className:"movie-date",children:["Released on ",t.release_date]})]})})}),x=function(e){var t=e.movieData.map((function(e){return Object(a.jsx)(g,{className:"card",id:e.id,movie:e},e.id)}));return Object(a.jsx)("main",{children:t})},p=function(e){Object(h.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(o.a)(this,r),(e=t.call(this)).throwError=function(){e.setState({errorThrown:!0,loading:!1,showSearch:!1})},e.getAllMovieData=function(t){return e.state.movieData.find((function(e){return e.id.toString()===t}))},e.searchMovies=function(){return e.state.movieData.filter((function(t){return t.title.toLowerCase().includes(e.state.searchTerm.toLowerCase())}))},e.handleChange=function(t){t.preventDefault(),e.setState({searchTerm:t.target.value}),e.searchMovies(t.target.value)},e.state={movieData:[],movieID:NaN,modalShowing:!1,searchTerm:"",errorThrown:!1,loading:!0,showSearch:!0},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies").then((function(e){if(e.status>=400&&500>=e.status)throw new Error("user error");if(e.status>=500)throw new Error("server error");return e.json()})).then((function(t){return e.setState({movieData:t.movies,loading:!1})})).catch((function(t){console.log(t),e.throwError()}))}},{key:"render",value:function(){var e=this;return this.state.errorThrown?Object(a.jsx)(v,{}):this.state.loading?Object(a.jsx)(b,{}):Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u,{className:"header",searchMovies:e.searchMovies,handleChange:e.handleChange,searchTerm:e.state.searchTerm,showSearch:e.state.showSearch}),Object(a.jsx)(x,{className:"card-container",movieData:e.searchMovies(e.state.searchTerm).length?e.searchMovies(e.state.searchTerm):e.state.movieData})]})}}),Object(a.jsx)(j.a,{path:"/:id",render:function(t){var r=t.match.params.id;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u,{className:"header",searchMovies:e.searchMovies,handleChange:e.handleChange,searchTerm:e.state.searchTerm,showSearch:!1}),Object(a.jsx)(O,{id:r,throwError:e.throwError})]})}})]})})}}]),r}(n.Component);c.a.render(Object(a.jsx)(i.a,{children:Object(a.jsx)(p,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.80cce37d.chunk.js.map