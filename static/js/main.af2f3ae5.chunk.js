(this["webpackJsonprancid-tomatillos"]=this["webpackJsonprancid-tomatillos"]||[]).push([[0],{18:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1),s=a(20),c=a.n(s),i=a(7),o=(a(27),a(10)),l=a(11),h=a(13),d=a(12),j=(a(28),a(2));a(18),a(29);var m=function(e){var t=e.searchTerm,a=e.handleChange;return Object(r.jsx)("label",{children:Object(r.jsx)("form",{"aria-label":"search",children:Object(r.jsx)("input",{id:"search",type:"text",placeholder:"Search by title",value:t,onChange:function(e){return a(e)}})})})},u=function(e){var t=e.searchTerm,a=e.handleChange,n=e.showSearch;return Object(r.jsxs)("header",{className:"main-header",children:[n&&Object(r.jsx)(m,{searchTerm:t,handleChange:a}),Object(r.jsx)(i.b,{to:"/rancid-tomatillos",className:"header-link",children:Object(r.jsx)("h1",{className:"header-title",children:"Randy's Totoos"})})]})},b=(a(35),function(){return Object(r.jsxs)("section",{className:"loading-container",children:[Object(r.jsx)("h2",{children:"Please be patient, we're changing the reel!"}),Object(r.jsx)("img",{className:"borked-gif",src:"https://media.giphy.com/media/ppyvw6iUQjdja/giphy.gif",alt:"bork bork"})]})}),v=(a(36),function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u,{}),Object(r.jsxs)("section",{className:"error-container",children:[Object(r.jsx)("h2",{className:"borked-title",children:"This page is borked!"}),Object(r.jsx)("img",{className:"borked-gif",src:"https://media.giphy.com/media/10u6gt11vnm812/giphy.gif",alt:"bork bork"}),Object(r.jsxs)(i.b,{to:"/rancid-tomatillos",className:"borked-link",children:[Object(r.jsx)("h3",{children:"If you typed in a URL, please make sure you typed it correctly."}),Object(r.jsx)("h3",{children:"Or click here to return to the home page"})]})]})]})}),O=(a(37),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var r,n=e.throwError;return Object(o.a)(this,a),(r=t.call(this,n)).state={foundMovie:null,loading:!0,modalError:!1,modalSearch:!1},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.id,fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(e)).then((function(e){if(e.status>=400&&500>=e.status)throw new Error("user error");if(e.status>=500)throw new Error("server error");return e.json()}))).then((function(e){return t.setState({foundMovie:e.movie,loading:!1})})).catch((function(e){t.props.throwError()}))}},{key:"render",value:function(){var e=this.state.foundMovie;return this.state.modalError?Object(r.jsx)(v,{}):this.state.loading?Object(r.jsx)(b,{}):null===e?Object(r.jsx)("main",{className:"loading",children:"HEY"}):Object(r.jsxs)("section",{className:"modal",children:[Object(r.jsx)("img",{src:e.backdrop_path,alt:"movie backdrop"}),Object(r.jsx)("h2",{className:"m-title",children:e.title}),Object(r.jsx)("p",{className:"m-tagline",children:e.tagline}),Object(r.jsxs)("div",{className:"m-data",children:[Object(r.jsx)("p",{className:"m-overview",children:e.overview}),Object(r.jsxs)("p",{className:"m-date",children:["Release Date: ",e.release_date]}),Object(r.jsxs)("p",{className:"m-rating",children:["Average Rating: ",e.average_rating.toFixed(1),"/10.0"]}),Object(r.jsxs)("p",{className:"m-runtime",children:["Runtime: ",e.runtime," minutes"]}),Object(r.jsx)("div",{className:"m-genre",children:Object(r.jsx)("ul",{children:e.genres.map((function(e){return Object(r.jsx)("li",{children:e},e)}))})}),e.budget?Object(r.jsxs)("p",{className:"m-budget",children:["Budget: $",e.budget.toLocaleString()]}):Object(r.jsx)("p",{className:"m-budget",children:"Budget not available"}),e.revenue?Object(r.jsxs)("p",{className:"m-revenue",children:["Revenue: $",e.revenue.toLocaleString()]}):Object(r.jsx)("p",{className:"m-revenue",children:"Revenue not available"}),Object(r.jsx)(i.b,{to:"/rancid-tomatillos",children:Object(r.jsx)("button",{children:"BACK TO HOME"})})]})]})}}]),a}(n.Component)),g=(a(38),a(39),function(e){var t=e.movie;return Object(r.jsx)(i.b,{to:"/".concat(t.id),"aria-label":t.id,children:Object(r.jsxs)("article",{className:"card",id:t.id,children:[Object(r.jsx)("img",{className:"thumbnail",src:t.poster_path,alt:"thumbnail"}),Object(r.jsx)("p",{className:"movie-title",children:t.title}),Object(r.jsx)("p",{className:"movie-rating",children:"Rating: ".concat(t.average_rating.toFixed(1),"/10.0")}),Object(r.jsxs)("p",{className:"movie-date",children:["Released on ",t.release_date]})]})})}),x=function(e){var t=e.movieData.map((function(e){return Object(r.jsx)(g,{className:"card",id:e.id,movie:e},e.id)}));return Object(r.jsx)("main",{children:t})},p=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).throwError=function(){e.setState({errorThrown:!0,loading:!1,showSearch:!1})},e.getAllMovieData=function(t){return e.state.movieData.find((function(e){return e.id.toString()===t}))},e.searchMovies=function(){return e.state.movieData.filter((function(t){return t.title.toLowerCase().includes(e.state.searchTerm.toLowerCase())}))},e.handleChange=function(t){t.preventDefault(),e.setState({searchTerm:t.target.value}),e.searchMovies(t.target.value)},e.state={movieData:[],movieID:NaN,modalShowing:!1,searchTerm:"",errorThrown:!1,loading:!0,showSearch:!0},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies").then((function(e){if(e.status>=400&&500>=e.status)throw new Error("user error");if(e.status>=500)throw new Error("server error");return e.json()})).then((function(t){return e.setState({movieData:t.movies,loading:!1})})).catch((function(t){console.log(t),e.throwError()}))}},{key:"render",value:function(){var e=this;return this.state.errorThrown?Object(r.jsx)(v,{}):this.state.loading?Object(r.jsx)(b,{}):Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(j.c,{children:[Object(r.jsx)(j.a,{exact:!0,path:"/rancid-tomatillos",render:function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u,{className:"header",searchMovies:e.searchMovies,handleChange:e.handleChange,searchTerm:e.state.searchTerm,showSearch:e.state.showSearch}),Object(r.jsx)(x,{className:"card-container",movieData:e.searchMovies(e.state.searchTerm).length?e.searchMovies(e.state.searchTerm):e.state.movieData})]})}}),Object(r.jsx)(j.a,{path:"/:id",render:function(t){var a=t.match.params.id;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u,{className:"header",searchMovies:e.searchMovies,handleChange:e.handleChange,searchTerm:e.state.searchTerm,showSearch:!1}),Object(r.jsx)(O,{id:a,throwError:e.throwError})]})}})]})})}}]),a}(n.Component);c.a.render(Object(r.jsx)(i.a,{children:Object(r.jsx)(p,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.af2f3ae5.chunk.js.map